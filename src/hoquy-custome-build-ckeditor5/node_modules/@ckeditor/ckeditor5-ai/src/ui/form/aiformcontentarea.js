/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x18ce=['isEnabled','scrollHeight','ck-content','isVisible','textContent','ck-ai-form__content-area-wrapper','ck-ai-form__copy-button','bind','ck-ai-form__copy-button-wrapper','element','contentFieldView','_createLoader','style','text/html','ClipboardItem','loaderView','change:isProcessing','remove','.ck-ai-form__loader','innerHTML','createElement','ck-hidden','position','_copyHTMLToClipboard','bindTemplate','scrollTo','appendLoader','removeAllRanges','_createCopyButton','execCommand','render','value','clipboard','isProcessing','setContent','addRange','appendChild','setTemplate','copyButtonView','copy','locale','text/plain','focus','div','ck-ai-form__content-area','execute','write','change:value','left','class','-9999px'];(function(_0x5d26b5,_0x18cee4){const _0x33b0ef=function(_0x3bd0c8){while(--_0x3bd0c8){_0x5d26b5['push'](_0x5d26b5['shift']());}};_0x33b0ef(++_0x18cee4);}(_0x18ce,0x1eb));const _0x33b0=function(_0x5d26b5,_0x18cee4){_0x5d26b5=_0x5d26b5-0x0;let _0x33b0ef=_0x18ce[_0x5d26b5];return _0x33b0ef;};import{global as _0x15a759}from'ckeditor5/src/utils';import{View as _0x306ae0,ButtonView as _0x42c4ee,SpinnerView as _0x157b07}from'ckeditor5/src/ui';import _0x3e37fe from'../../../theme/icons/copy.svg';import{getTranslation as _0x79ef4b}from'../../utils/common-translations';import{icons as _0x5c8901}from'ckeditor5/src/core';export default class M extends _0x306ae0{constructor(_0x437fa0,_0x2778d0=''){super(_0x437fa0),this['set']({'value':null,'isVisible':!0x1,'isProcessing':!0x1});const _0x28d8bb=this[_0x33b0('0x2b')];this[_0x33b0('0x1d')]=new ContentFieldView(_0x437fa0,_0x2778d0),this['copyButtonView']=this[_0x33b0('0x2f')](),this[_0x33b0('0x5')]({'tag':'div','attributes':{'class':['ck',_0x33b0('0x18'),_0x28d8bb['if'](_0x33b0('0x16'),_0x33b0('0x28'),_0x265554=>!_0x265554)],'tabindex':'-1'},'children':[{'tag':'div','attributes':{'class':['ck',_0x33b0('0xc'),_0x28d8bb['if'](_0x33b0('0x1'),'ck-ai-form__content-area--processing')]},'children':[this['contentFieldView'],{'tag':_0x33b0('0xb'),'attributes':{'class':['ck',_0x33b0('0x1b')]},'children':[this[_0x33b0('0x6')]]}]}]});}[_0x33b0('0x31')](){super[_0x33b0('0x31')](),this[_0x33b0('0x32')]&&this['contentFieldView'][_0x33b0('0x2')](this[_0x33b0('0x32')]),this['on'](_0x33b0('0xf'),(_0x4f9e4d,_0x548108,_0x567cad)=>{const _0x94cb=!this['contentFieldView']['element']['querySelector'](_0x33b0('0x25'));this[_0x33b0('0x1d')][_0x33b0('0x2')](_0x567cad),this[_0x33b0('0x1')]&&_0x94cb&&this[_0x33b0('0x1c')][_0x33b0('0x2c')]({'top':this[_0x33b0('0x1c')][_0x33b0('0x14')],'behavior':'smooth'});}),this['on'](_0x33b0('0x23'),(_0x8e2a45,_0x4fb235,_0x161559)=>{_0x161559?(this[_0x33b0('0x32')]=null,this[_0x33b0('0x1d')]['appendLoader']()):this['value']||this[_0x33b0('0x1d')][_0x33b0('0x2')]('');});}['focus'](){this['element'][_0x33b0('0xa')]();}[_0x33b0('0x2f')](){const _0x535476=this[_0x33b0('0x8')],_0x3070b5=new _0x42c4ee(this[_0x33b0('0x8')]),_0x2281ff=_0x33b0('0x19');return _0x3070b5['set']({'label':_0x79ef4b(_0x535476,'Copy'),'icon':_0x3e37fe,'class':_0x2281ff,'tooltip':!0x0}),_0x3070b5[_0x33b0('0x1a')](_0x33b0('0x16'))['to'](this,'value',_0x3a9d40=>!!_0x3a9d40),_0x3070b5[_0x33b0('0x1a')](_0x33b0('0x13'))['to'](this,'isProcessing',_0x3cb7ec=>!_0x3cb7ec),_0x3070b5['on'](_0x33b0('0xd'),()=>{this[_0x33b0('0x2a')](this['contentFieldView'][_0x33b0('0x1c')]),_0x3070b5['icon']=_0x5c8901['check'],_0x3070b5['class']=_0x2281ff+'\x20ck-ai-form__copy-button--copied',this[_0x33b0('0xa')](),setTimeout(()=>{_0x3070b5['icon']=_0x3e37fe,_0x3070b5[_0x33b0('0x11')]=_0x2281ff;},0x3e8);}),_0x3070b5;}[_0x33b0('0x2a')](_0x66ebd7){const {window:_0x86f361,document:_0x41117a}=_0x15a759;if(_0x86f361[_0x33b0('0x21')]){const {Blob:_0x2db330,ClipboardItem:_0x57d375}=_0x86f361,_0x34e37a=[new _0x57d375({'text/html':new _0x2db330([_0x66ebd7[_0x33b0('0x26')]],{'type':_0x33b0('0x20')}),'text/plain':new _0x2db330([_0x66ebd7[_0x33b0('0x17')]||''],{'type':_0x33b0('0x9')})})];navigator[_0x33b0('0x0')][_0x33b0('0xe')](_0x34e37a);}else{const _0x2a2048=_0x41117a[_0x33b0('0x27')](_0x33b0('0xb'));_0x2a2048[_0x33b0('0x1f')][_0x33b0('0x29')]='absolute',_0x2a2048[_0x33b0('0x1f')][_0x33b0('0x10')]=_0x33b0('0x12'),_0x2a2048[_0x33b0('0x26')]=_0x66ebd7[_0x33b0('0x26')],_0x41117a['body'][_0x33b0('0x4')](_0x2a2048);const _0x101b46=_0x41117a['createRange']();_0x101b46['selectNodeContents'](_0x2a2048);const _0x40343=_0x86f361['getSelection']();_0x40343[_0x33b0('0x2e')](),_0x40343[_0x33b0('0x3')](_0x101b46),_0x41117a[_0x33b0('0x30')](_0x33b0('0x7')),_0x2a2048[_0x33b0('0x24')]();}}}export class ContentFieldView extends _0x306ae0{constructor(_0x39cb90,_0x38eacd=''){super(_0x39cb90),this[_0x33b0('0x22')]=this[_0x33b0('0x1e')](),this[_0x33b0('0x5')]({'tag':_0x33b0('0xb'),'attributes':{'class':['ck',_0x33b0('0x15'),_0x38eacd,'ck-reset_all-excluded','ck-ai-form__content-field']}});}['setContent'](_0x20f466){this['element'][_0x33b0('0x26')]=_0x20f466;}[_0x33b0('0x2d')](){this[_0x33b0('0x1c')][_0x33b0('0x4')](this[_0x33b0('0x22')][_0x33b0('0x1c')]);}['_createLoader'](){const _0x3bd92f=new _0x306ae0(),_0x5f5217=this[_0x33b0('0x8')],_0x51ac03=new _0x157b07();return _0x51ac03['isVisible']=!0x0,_0x3bd92f['setTemplate']({'tag':_0x33b0('0xb'),'attributes':{'class':['ck','ck-ai-form__loader']},'children':[_0x51ac03,{'text':_0x79ef4b(_0x5f5217,'AI\x20is\x20writing...')}]}),_0x3bd92f[_0x33b0('0x31')](),_0x3bd92f;}}