/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x66e6=['listenTo','_focusCycler','AI\x20Assistant','isError','_createToolbar','isVisible','tab','startProcessing','clear','execute','_createHistoryView','queryView','finishProcessing','forwardCycle','focus','clearHistory','render','isProcessing','AI_ERROR_FAILED','submitPrompt','items','_focusables','prompt','_promptHistory','tryAgainEvent','trim','bindTo','setTemplate','div','stopButton','ck-ai-form-content','focusFirst','_createPromptView','set','Ask\x20AI\x20to\x20improve\x20generated\x20text','Ask\x20AI\x20and\x20your\x20prompts\x20will\x20be\x20listed\x20here\x20for\x20you\x20to\x20use\x20later.','element','add','insertButton','submit','promptView','locale','contentArea','shift\x20+\x20tab','tryAgainButton','toolbar','replaceButton','bindTemplate','value','copyButtonView','stop','isEnabled','errorView','handleError','bind','replaceContent','Empty\x20history','createCollection','ck-ai-form','keystrokes','stopProcessing','focusTracker','fire','text','backwardCycle','focusCycler','Ask\x20AI\x20to\x20edit\x20or\x20generate','focusPrevious'];(function(_0x4a2397,_0x66e670){const _0x2c3adb=function(_0x3d59e0){while(--_0x3d59e0){_0x4a2397['push'](_0x4a2397['shift']());}};_0x2c3adb(++_0x66e670);}(_0x66e6,0x19b));const _0x2c3a=function(_0x4a2397,_0x66e670){_0x4a2397=_0x4a2397-0x0;let _0x2c3adb=_0x66e6[_0x4a2397];return _0x2c3adb;};import{FocusTracker as _0x50263a,KeystrokeHandler as _0x36c307}from'ckeditor5/src/utils';import{View as _0x727a95,FocusCycler as _0x739176,createLabeledTextarea as _0x55129a,FormHeaderView as _0x5a1a65}from'ckeditor5/src/ui';import _0x36e6aa from'./aiformtoolbarview';import _0xbfd655 from'./aiformcontentarea';import _0x3f3334 from'./aiformerrorview';import _0x2d54b8 from'./aiformpromptview';import _0x60b8c3 from'./aihistorylistview';import _0x21a2e6 from'./aihistorylistitemview';import _0x247d7d from'./prompthistory';import{getTranslation as _0xc386e8}from'../../utils/common-translations';import _0x1ef5f4 from'../../../theme/icons/robot-pencil.svg';export default class y extends _0x727a95{constructor(_0x127562,_0x2871dc,_0x3daeef,_0x305b59=''){super(_0x127562),this[_0x2c3a('0x1e')](_0x2c3a('0x30'),!0x0),this[_0x2c3a('0x1e')](_0x2c3a('0xe'),!0x1),this[_0x2c3a('0x1e')](_0x2c3a('0x13'),_0x2871dc),this['set'](_0x2c3a('0x2d'),''),this[_0x2c3a('0x1e')](_0x2c3a('0x0'),!0x1),this[_0x2c3a('0x14')]=new _0x247d7d(),this[_0x2c3a('0x31')]=new _0x3f3334(_0x127562),this['header']=new _0x5a1a65(_0x127562,{'label':_0xc386e8(_0x127562,_0x2c3a('0x43')),'icon':_0x1ef5f4}),this[_0x2c3a('0x27')]=new _0xbfd655(_0x127562,_0x305b59),this['contentArea'][_0x2c3a('0x33')]('isProcessing')['to'](this),this[_0x2c3a('0x27')][_0x2c3a('0x33')](_0x2c3a('0x2d'))['to'](this),this['toolbar']=this['_createToolbar'](),this['promptView']=this[_0x2c3a('0x1d')](),this[_0x2c3a('0x3a')]=new _0x50263a(),this['keystrokes']=new _0x36c307(),this[_0x2c3a('0x12')]=this[_0x2c3a('0x36')]([this[_0x2c3a('0x27')],this[_0x2c3a('0x27')]['copyButtonView'],this[_0x2c3a('0x2a')],this['promptView']]),this[_0x2c3a('0x42')]=new _0x739176({'focusables':this[_0x2c3a('0x12')],'focusTracker':this['focusTracker'],'keystrokeHandler':this[_0x2c3a('0x38')],'actions':{'focusPrevious':_0x2c3a('0x28'),'focusNext':_0x2c3a('0x3')}}),this[_0x2c3a('0x25')][_0x2c3a('0x3e')]['on'](_0x2c3a('0xa'),_0x16bdb3=>{this[_0x2c3a('0x42')]['focusNext'](),_0x16bdb3[_0x2c3a('0x2f')]();}),this[_0x2c3a('0x25')]['focusCycler']['on'](_0x2c3a('0x3d'),_0x16e24b=>{this[_0x2c3a('0x42')][_0x2c3a('0x40')](),_0x16e24b[_0x2c3a('0x2f')]();});const _0x499261=this[_0x2c3a('0x2c')];this[_0x2c3a('0x18')]({'tag':_0x2c3a('0x19'),'attributes':{'class':['ck',_0x2c3a('0x37'),_0x3daeef],'tabindex':'-1'},'children':[this['header'],{'tag':'div','attributes':{'class':['ck',_0x2c3a('0x1b')]},'children':[{'tag':_0x2c3a('0x19'),'attributes':{'class':[_0x499261['if'](_0x2c3a('0x0'),'ck-hidden',_0x8f99e4=>!_0x8f99e4)]},'children':[this[_0x2c3a('0x31')]]},this[_0x2c3a('0x27')],this[_0x2c3a('0x2a')],this[_0x2c3a('0x25')]]}]});}[_0x2c3a('0xd')](){super['render'](),this[_0x2c3a('0x3a')][_0x2c3a('0x22')](this[_0x2c3a('0x27')][_0x2c3a('0x21')]),this[_0x2c3a('0x3a')]['add'](this[_0x2c3a('0x27')][_0x2c3a('0x2e')][_0x2c3a('0x21')]),this[_0x2c3a('0x3a')][_0x2c3a('0x22')](this[_0x2c3a('0x2a')][_0x2c3a('0x21')]),this[_0x2c3a('0x3a')][_0x2c3a('0x22')](this[_0x2c3a('0x25')]['element']),this['keystrokes']['listenTo'](this['element']);}[_0x2c3a('0xb')](){this[_0x2c3a('0x42')][_0x2c3a('0x1c')]();}[_0x2c3a('0x1d')](){const _0x5d990d=this[_0x2c3a('0x26')],_0xba9f39=new _0x2d54b8(_0x5d990d,{'queryView':{'label':_0xc386e8(_0x5d990d,_0x2c3a('0x3f')),'creator':_0x55129a,'showIcon':!0x1,'showResetButton':!0x1},'infoView':{'text':{'noSearchableItems':{'primary':_0xc386e8(_0x5d990d,_0x2c3a('0x35')),'secondary':_0xc386e8(_0x5d990d,_0x2c3a('0x20'))}}},'filteredView':this['_createHistoryView'](),'queryMinChars':0x1/0x0,'resetOnBlur':!0x1});return _0xba9f39['bind'](_0x2c3a('0x30'))['to'](this,'isEnabled',this,_0x2c3a('0xe'),(_0x239622,_0x5a97bb)=>_0x239622&&!_0x5a97bb),this[_0x2c3a('0x41')](_0xba9f39,_0x2c3a('0x24'),(_0x4b4ee2,_0x4ad695)=>{this[_0x2c3a('0x13')]=_0x4ad695,this[_0x2c3a('0x3b')](_0x2c3a('0x10'),this[_0x2c3a('0x13')]),_0x4ad695[_0x2c3a('0x16')]()&&this['_promptHistory'][_0x2c3a('0x22')]({'prompt':_0x4ad695['trim']()},0x0);},{'priority':'high'}),_0xba9f39;}[_0x2c3a('0x7')](){const _0x433a84=new _0x60b8c3(this[_0x2c3a('0x26')]);return _0x433a84['historyGroupView'][_0x2c3a('0x11')][_0x2c3a('0x17')](this[_0x2c3a('0x14')])['as'](_0x21a2e6),_0x433a84['on'](_0x2c3a('0xc'),()=>{this[_0x2c3a('0x14')][_0x2c3a('0x5')](),this[_0x2c3a('0x25')]['search'](''),this['promptView'][_0x2c3a('0xb')]();}),_0x433a84;}[_0x2c3a('0x1')](){const _0x13bf63=new _0x36e6aa(this[_0x2c3a('0x26')]);return _0x13bf63[_0x2c3a('0x2b')][_0x2c3a('0x33')](_0x2c3a('0x30'))['to'](this,_0x2c3a('0x30'),this,_0x2c3a('0xe'),this,_0x2c3a('0x2d'),(_0x531e90,_0x52ff92,_0x5ad3e8)=>_0x531e90&&!_0x52ff92&&!!_0x5ad3e8),_0x13bf63[_0x2c3a('0x2b')]['on'](_0x2c3a('0x6'),()=>{this[_0x2c3a('0x3b')](_0x2c3a('0x34'),this['value']);}),_0x13bf63[_0x2c3a('0x23')][_0x2c3a('0x33')](_0x2c3a('0x30'))['to'](this,_0x2c3a('0x30'),this,_0x2c3a('0xe'),this,_0x2c3a('0x2d'),(_0x1ee47e,_0x215607,_0x437184)=>_0x1ee47e&&!_0x215607&&!!_0x437184),_0x13bf63[_0x2c3a('0x23')]['on'](_0x2c3a('0x6'),()=>{this['fire']('insertContentBelow',this['value']);}),_0x13bf63[_0x2c3a('0x29')][_0x2c3a('0x33')](_0x2c3a('0x30'))['to'](this,_0x2c3a('0x30'),this,_0x2c3a('0xe'),(_0x569f0c,_0x1ec4f0)=>_0x569f0c&&!_0x1ec4f0),_0x13bf63[_0x2c3a('0x29')]['on'](_0x2c3a('0x6'),()=>{this[_0x2c3a('0x3b')](_0x2c3a('0x15'));}),_0x13bf63[_0x2c3a('0x1a')][_0x2c3a('0x33')](_0x2c3a('0x30'))['to'](this,'isProcessing'),_0x13bf63[_0x2c3a('0x1a')]['on']('execute',()=>{this[_0x2c3a('0x3b')](_0x2c3a('0x39'));}),_0x13bf63;}[_0x2c3a('0x4')](){this['value']='',this[_0x2c3a('0x0')]=!0x1,this[_0x2c3a('0xe')]=!0x0,this[_0x2c3a('0x27')][_0x2c3a('0x2')]=!0x0,this[_0x2c3a('0x2a')][_0x2c3a('0x2')]=!0x0,this[_0x2c3a('0x27')][_0x2c3a('0xb')]();}['finishProcessing'](){const _0x30e579=this['locale'];this[_0x2c3a('0xe')]=!0x1,this[_0x2c3a('0x13')]='',this['promptView']['reset'](),this[_0x2c3a('0x2d')]&&(this[_0x2c3a('0x25')][_0x2c3a('0x8')]['label']=_0xc386e8(_0x30e579,_0x2c3a('0x1f')));}[_0x2c3a('0x32')](_0x36306f){const _0x1cd1e6=this[_0x2c3a('0x26')];this[_0x2c3a('0x9')](),this[_0x2c3a('0x0')]=!0x0,this['errorView'][_0x2c3a('0x3c')]=_0x36306f||_0xc386e8(_0x1cd1e6,_0x2c3a('0xf')),this[_0x2c3a('0x2d')]||(this['contentArea'][_0x2c3a('0x2')]=!0x1);}}